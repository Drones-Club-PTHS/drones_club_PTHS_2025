# Техника безопасности

## Категорически запрещено:

* Летать над людьми
* Взлетать, когда рядом есть люди, которые этого не ожидают

## Как выбрать место для полётов

Для запуска подходят места, где можно взлететь с пола и в радиусе нескольких метров не будет людей, мебели и других предметов. Желательно это делать не на проходе.

### В нашем случае полётные места:
* 2-3 дрона поместятся в конце кабинета, где нет парт.
* Рекреации рядом с кабинетом. Лучше летать в расширениях коридора и не перекрывать непосредственно выход из кабинета.

Если вы пользуетесь школьным компьютером (или ваш собственный ноутбук тоже не умеет работать без розетки), то лучше всего сесть за столы у стенки в конце кабинета. Там и розетки есть и место для полёта рядом (не надо бегать через весь кабинет). Если вас таких много, то ещё можно уйти в коридор и сесть там рядом с какой-нибудь розеткой. В любом случае, перед тем как включать компьютер, который вы потом не сможете перенести не выключая, подумайте, где вы будете летать и сядьте рядом с этим местом.

## Как нельзя запускать дронов
Дронов запускаем только с пола, и рядом не должно быть предметов, потому что высоту полёта дрон измеряет дальномером, смотрящим вниз, и если вы взлетели с пола, а потом случайно пролетели над партой, то дрон начнёт отсчитывать высоту от парты и улетит в потолок.

## Как писать безопасные программы
При написании программ нельзя обойтись без ошибок и опечаток. Если вы подняли квадрокоптер в воздух, а потом ваша программа упала с ошибкой, то дрон так и останется висеть в воздухе (или продолжит лететь в неизвестном направлении). Чтобы этого избежать **настоятельно рекомендуем**(!!!) использовать обработчик ошибок `try-catch-finally`. Если весь полётный код поместить в блок `try`, а в блоке `catch` написать команду `land()`, то при возникновении ошибки дрон будет приземляться. Но полётные программы скорее всего в любом случае должны закончиться приземлением, даже если ошибок не возникло. Поэтому вместо блока `catch` можно использовать блок `finally`. Код из блока `finally` будет выполняться каждый раз после блока `try`, не зависимо от того, возникла ли ошибка в блоке `try`.

Пример использования обработчика ошибок:
```python
from pioneer_sdk import Pioneer

drone = Pioneer()
try:
    drone.arm()
    drone.takeoff()
    # Другие полётные команды
finally:
    drone.land()
```


## Итого:
* Не взлетаем с парт, стульев и других предметов
* Не летаем рядом с партами, стульями, другими предметами
* Не запускаем, если рядом есть люди, которые этого не ожидают (предупредите / попросите отойти / отойдите сами)
* Используем `try-finally`, чтобы избежать улетания в неизвестном направлении при возникновении ошибки
* Ну и берегите пальцы, не суйте их в пропеллеры (волосы тоже стоит беречь от наматывания на дрона)

## Что делать, если дрон таки завис в воздухе

Если у вас всё-таки произошла ситуация, что дрон остался висеть в воздухе и программа им уже не управляет (программа вылетела с ошибкой или вы просто забыли написать `land()`), то есть несколько вариантов:
* позвать кого-то, кто поможет вам его выключить и спустить на землю
* запустить маленькую программу, которая подключится к дрону и вызовет команду `land()`
* аккуратно взять дрона и перевернуть его (как это сделать будет написано ниже)
* ну и совсем на крайний случай его можно как-нибудь сбить (желательно так, чтобы при этом никто не пострадал, и дрон в том числе)

Если вы хотите аккуратно руками выключить дрона в воздухе, то можно его взять сбоку за одну ножку и перевернуть. При перевороте сработает механизм защиты, который выключает моторы, если отклонение от горизонтального положения превышает критический угол. Чтобы при этом дрон не улетел от вас в потолок, руку нужно подносить сбоку, не перекрывая дальномер. А иначе расстояние начнёт отсчитываться от вашей руки и дрон будет компенсировать потерю высоты поднимаясь всё выше и выше.
